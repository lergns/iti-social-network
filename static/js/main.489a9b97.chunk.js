(this["webpackJsonpsamurai-path-ts"]=this["webpackJsonpsamurai-path-ts"]||[]).push([[1],{135:function(e,t,n){},218:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=(n(135),n(16)),s=n(58),u=n(73),o=n(74),i=n(24),l=n(82),f=n(80),d=n(5),p=n.n(d),b=n(8),h=n(3),j={isInitialized:!1},O=Object(c.c)({profilePage:s.e,dialoguesPage:u.a,usersPage:o.e,auth:i.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITIALIZED":return Object(h.a)(Object(h.a)({},e),{},{isInitialized:!0});default:return e}},form:f.a}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,v=Object(c.e)(O,g(Object(c.a)(l.a)));window.__store__=v;var m=n(41),x=n.n(m),S=n(36),_=n(64),w=n(39),E=n(38),T=n(6),y=(n(218),n(12)),P=n(52),I=n.n(P),N=n(2),A=a.a.memo((function(e){var t=e.isAuth,n=e.login,r=e.logout;return Object(N.jsxs)("header",{className:I.a.header,children:[Object(N.jsx)("img",{src:"https://cdn.logo.com/hotlink-ok/logo-social-sq.png",alt:"Logo"}),Object(N.jsx)("div",{className:I.a.loginBlock,children:t?Object(N.jsxs)("div",{children:[n," - ",Object(N.jsx)("button",{onClick:r,children:"Log out"})]}):Object(N.jsx)(y.b,{to:"/login",children:"Log in"})})]})})),k=n(21),C=n(50),U=function(e){Object(w.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(N.jsx)(A,Object(h.a)({},e.props))},e}return n}(a.a.PureComponent),D=Object(k.b)((function(e){return{isAuth:Object(C.b)(e),login:Object(C.c)(e)}}),{logout:i.d})(U),L=n(9),R=n.n(L),F=function(){return Object(N.jsxs)("nav",{className:R.a.nav,children:[Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/profile",activeClassName:R.a.active,children:"Profile"})}),Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/dialogues",activeClassName:R.a.active,children:"Dialogues"})}),Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/users",activeClassName:R.a.active,children:"Users"})}),Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/news",activeClassName:R.a.active,children:"News"})}),Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/music",activeClassName:R.a.active,children:"Music"})}),Object(N.jsx)("div",{className:R.a.item,children:Object(N.jsx)(y.b,{to:"/settings",activeClassName:R.a.active,children:"Settings"})})]})},z=n(40),G=function(e){return e.app.isInitialized};function M(e){return function(t){return Object(N.jsx)(r.Suspense,{fallback:Object(N.jsx)(z.a,{}),children:Object(N.jsx)(e,Object(h.a)({},t))})}}var W=a.a.lazy((function(){return n.e(6).then(n.bind(null,300))})),H=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,299))})),B=a.a.lazy((function(){return n.e(5).then(n.bind(null,301))})),Z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,302))})),J=function(e){Object(w.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(S.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).render=function(){return e.props.isInitialized?Object(N.jsxs)("div",{className:"app-wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsx)(F,{}),Object(N.jsxs)("div",{className:"app-wrapper-content",children:[Object(N.jsx)(T.b,{exact:!0,path:"/",render:M(H)}),Object(N.jsx)(T.b,{path:"/profile/:userID?",render:M(H)}),Object(N.jsx)(T.b,{path:"/dialogues",render:M(B)}),Object(N.jsx)(T.b,{path:"/users",render:M(W)}),Object(N.jsx)(T.b,{path:"/login",render:M(Z)})]})]}):Object(N.jsx)(z.a,{})},e}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}}]),n}(a.a.PureComponent),V=Object(c.d)(Object(k.b)((function(e){return{isInitialized:G(e)}}),{initializeApp:function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(i.b)());case 3:t({type:"app/SET_INITIALIZED"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),alert("An error has occurred. Please try again later.");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}}),T.f)(J);x.a.render(Object(N.jsx)(y.a,{children:Object(N.jsx)(k.a,{store:v,children:Object(N.jsx)(V,{})})}),document.getElementById("root"))},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n(5),a=n.n(r),c=n(8),s=n(3),u=n(7),o=n(43),i={id:null,login:null,email:null,isAuth:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_AUTH_USER_DATA":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}},f=function(e,t,n,r){return{type:"auth/SET_AUTH_USER_DATA",payload:{id:e,email:t,login:n,isAuth:r}}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.b.me();case 3:(n=e.sent).resultCode===u.a.Success&&(r=n.data,c=r.id,s=r.email,o=r.login,t(f(c,s,o,!0))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.b.login(e,t,n);case 3:(s=r.sent).resultCode===u.a.Success?c(d()):(alert("Incorrect email or password."),i=s.messages.length?s.messages[0]:"Incorrect log in data",c(Object(o.a)("loginForm",{_error:i}))),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.b.logout();case 3:e.sent.resultCode===u.a.Success&&t(f(null,null,null,!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var r=n.p+"static/media/preloader.f1283d50.gif",a=n(85),c=n.n(a),s=n(2),u=function(){return Object(s.jsx)("img",{src:r,className:c.a.preloader,alt:"Loading"})}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var r=function(e){return e.auth.id},a=function(e){return e.auth.isAuth},c=function(e){return e.auth.login}},52:function(e,t,n){e.exports={header:"Header_header__2ZhVC",loginBlock:"Header_loginBlock__1o6Be"}},58:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return j}));var r=n(5),a=n.n(r),c=n(8),s=n(20),u=n(3),o=n(7),i={posts:[{id:1,postText:"what's up?",likesCount:3},{id:2,postText:"hey!",likesCount:1}],userProfile:{},status:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD_POST":var n=Object(u.a)(Object(u.a)({},e),{},{posts:Object(s.a)(e.posts)}),r={id:n.posts.length+1,postText:t.newPostText,likesCount:0};return Object(u.a)(Object(u.a)({},n),{},{posts:[r].concat(Object(s.a)(n.posts))});case"profile/DELETE_POST":return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postID}))});case"profile/SET_USER_PROFILE":return Object(u.a)(Object(u.a)({},e),{},{userProfile:t.userProfile});case"profile/SET_USER_STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});default:return e}},f=function(e){return{type:"profile/ADD_POST",newPostText:e}},d=function(e){return{type:"profile/DELETE_POST",postID:e}},p=function(e){return{type:"profile/SET_USER_STATUS",status:e}},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.getProfile(e);case 3:r=t.sent,n({type:"profile/SET_USER_PROFILE",userProfile:r}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.getStatus(e);case 3:r=t.sent,n(p(r)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.updateStatus(e);case 3:t.sent.resultCode===o.a.Success&&n(p(e)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert("An error has occurred. Please try again later.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r,a=n(81),c=n.n(a);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Captcha=10]="Captcha"}(r||(r={}));var s=c.a.create({headers:{"API-KEY":"264a0581-6cdc-4a28-9b7e-b8b5b1060aa0"},baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0}),u={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return s.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return s.delete("follow/".concat(e)).then((function(e){return e.data}))}},o={getProfile:function(e){return s.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return s.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return s.put("profile/status",{status:e}).then((function(e){return e.data}))}},i={me:function(){return s.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){return s.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return s.delete("/auth/login").then((function(e){return e.data}))}}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(20),a=n(3),c={dialogues:[{id:1,personName:"Stacy"},{id:2,personName:"Gracy"},{id:3,personName:"Mike"},{id:4,personName:"Sam"},{id:5,personName:"Sanya"}],messages:[{id:1,messageText:"Hola!"},{id:2,messageText:"Meow"},{id:3,messageText:"What's up?"},{id:4,messageText:"Where have you been?"},{id:5,messageText:"See you soon!"}]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogues/SEND_MESSAGE":var n=Object(a.a)(Object(a.a)({},e),{},{messages:Object(r.a)(e.messages)});return n.messages.push({id:n.messages.length+1,messageText:t.newMessageText}),n;default:return e}},u=function(e){return{type:"dialogues/SEND_MESSAGE",newMessageText:e}}},74:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g}));var r=n(5),a=n.n(r),c=n(8),s=n(20),u=n(3),o=n(7),i={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)(Object(u.a)({},e),{},{followed:!0}):e}))});case"users/UNFOLLOW":return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)(Object(u.a)({},e),{},{followed:!1}):e}))});case"users/SET_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case"users/SET_CURRENT_PAGE":return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"users/SET_IS_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.newIsFetching});case"users/SET_FOLLOWING_PROGRESS":return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(s.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},f=function(e){return{type:"users/FOLLOW",userID:e}},d=function(e){return{type:"users/UNFOLLOW",userID:e}},p=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},b=function(e){return{type:"users/SET_IS_FETCHING",newIsFetching:e}},h=function(e,t){return{type:"users/SET_FOLLOWING_PROGRESS",userID:e,followingInProgress:t}},j=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(b(!0)),n.prev=1,n.next=4,o.d.getUsers(e,t);case 4:(c=n.sent).error||(r({type:"users/SET_USERS",users:c.items}),r({type:"users/SET_TOTAL_USERS_COUNT",totalUsersCount:c.totalCount})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),alert("An error has occurred. Please try again later.");case 12:r(b(!1));case 13:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(h(e,!0)),t.prev=1,t.next=4,o.d.follow(e);case 4:t.sent.resultCode===o.a.Success&&n(f(e)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),alert("An error has occurred. Please try again later.");case 12:n(h(e,!1));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(h(e,!0)),t.prev=1,t.next=4,o.d.unfollow(e);case 4:t.sent.resultCode===o.a.Success&&n(d(e)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),alert("An error has occurred. Please try again later.");case 12:n(h(e,!1));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},85:function(e,t,n){e.exports={preloader:"Preloader_preloader__1E9dh"}},9:function(e,t,n){e.exports={nav:"Navbar_nav__g8jcu",item:"Navbar_item__2BmSg",active:"Navbar_active__3YPzP"}}},[[224,2,3]]]);
//# sourceMappingURL=main.489a9b97.chunk.js.map