{"version":3,"sources":["components/common/FormControls/formControls.module.css","utils/validators/validators.ts","components/common/FormControls/FormControls.tsx","components/Login/LoginForm/LoginForm.tsx","components/Login/Login.tsx","components/Login/LoginContainer.tsx"],"names":["module","exports","maxLength","requiredField","inputValue","maxLength100","length","FormControl","React","memo","meta","children","hasError","touched","error","className","classes","formControl","Textarea","props","input","restProps","Input","LoginForm","handleSubmit","captchaURL","onSubmit","Field","component","name","placeholder","validate","type","src","alt","formLevelError","reduxForm","form","Login","login","isAuth","to","formData","email","password","rememberMe","captcha","LoginContainer","connect","state","selectIsAuth","selectCaptchaURL"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,eAAiB,uC,iCCCvH,oEAAO,IAK0BC,EALpBC,EAAoC,SAACC,GAChD,OAAIA,EAAmB,KACX,qBAUDC,GAPoBH,EAOY,IAP8B,SACzEE,GAEA,OAAIA,EAAWE,QAAUJ,EAAkB,KACtC,wBAAwBA,EAAxB,e,kKCPDK,EAAqCC,IAAMC,MAAK,YAAyB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACvDC,EAAoBF,EAAKG,SAAWH,EAAKI,MAE/C,OACE,sBACEC,UAAWC,IAAQC,YAAc,KAAOL,EAAWI,IAAQF,MAAQ,IADrE,UAGE,8BAAMH,IACN,8BAAMC,GAAY,+BAAOF,EAAKI,gBAKvBI,EAAkCV,IAAMC,MAAK,SAACU,GACTA,EAAxCR,SAD4D,IAClDS,EAA8BD,EAA9BC,MAAgBC,GAAcF,EAAvBT,KAD0C,YACnBS,EADmB,8BAEnE,OACE,cAACZ,EAAD,2BAAiBY,GAAjB,aACE,oDAAcC,GAAWC,UAKlBC,EAA+Bd,IAAMC,MAAK,SAACU,GACNA,EAAxCR,SADyD,IAC/CS,EAA8BD,EAA9BC,MAAgBC,GAAcF,EAAvBT,KADuC,YAChBS,EADgB,8BAEhE,OACE,cAACZ,EAAD,2BAAiBY,GAAjB,aACE,iDAAWC,GAAWC,W,yHCZtBE,EAEFf,IAAMC,MAAK,YAA0C,IAAvCe,EAAsC,EAAtCA,aAAcV,EAAwB,EAAxBA,MAAOW,EAAiB,EAAjBA,WACrC,OACE,uBAAMC,SAAUF,EAAhB,UACE,8BACE,cAACG,EAAA,EAAD,CACEC,UAAWN,IACXO,KAAM,QACNC,YAAa,QACbC,SAAU,CAAC5B,SAIf,8BACE,cAACwB,EAAA,EAAD,CACEC,UAAWN,IACXO,KAAM,WACNG,KAAM,WACNF,YAAa,WACbC,SAAU,CAAC5B,SAIf,gCACE,cAACwB,EAAA,EAAD,CAAOC,UAAWN,IAAOO,KAAM,aAAcG,KAAM,aADrD,iBAKCP,GAAc,qBAAKQ,IAAKR,EAAYS,IAAK,YACzCT,GACC,8BACE,cAACE,EAAA,EAAD,CACEC,UAAWN,IACXO,KAAM,UACNC,YAAa,UACbC,SAAU,CAAC5B,SAKhBW,GAAS,qBAAKC,UAAWC,IAAQmB,eAAxB,SAAyCrB,IAEnD,8BACE,oDAOOsB,cAAiD,CAC9DC,KAAM,aADOD,CAEZb,G,OClEUe,EAAQ9B,IAAMC,MACzB,YAAoD,IAAjD8B,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,OAAQf,EAAiC,EAAjCA,WAShB,OAAIe,EACK,cAAC,IAAD,CAAUC,GAAI,aAGnB,gCACE,wCACA,cAAC,EAAD,CAAWf,SAdA,SAACgB,GAAD,OACfH,EACEG,EAASC,MACTD,EAASE,SACTF,EAASG,WACTH,EAASI,UASwBrB,WAAYA,U,wBCC/CsB,EAAiBC,aALC,SAACC,GAAD,MAA2B,CACjDT,OAAQU,YAAaD,GACrBxB,WAAY0B,YAAiBF,MAQZ,CAAEV,WALES,CAKOV,GAEfS","file":"static/js/7.2e7cf720.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControls_formControl__3RMTF\",\"error\":\"formControls_error__2-i41\",\"formLevelError\":\"formControls_formLevelError__1uTkE\"};","type FieldValidatorType = (inputValue: string) => string | null;\n\nexport const requiredField: FieldValidatorType = (inputValue) => {\n  if (inputValue) return null;\n  else return \"Field is required\";\n};\n\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (\n  inputValue\n) => {\n  if (inputValue.length <= maxLength) return null;\n  else return `Max length is ${maxLength} symbols`;\n}; // HOF\n\nexport const maxLength100 = maxLengthCreator(100);\n","import React, { FC } from \"react\";\nimport { WrappedFieldProps } from \"redux-form\";\nimport classes from \"./formControls.module.css\";\n\nconst FormControl: FC<WrappedFieldProps> = React.memo(({ meta, children }) => {\n  const hasError: boolean = meta.touched && meta.error; // if Field was touched and there is an error ( validate[] )\n\n  return (\n    <div\n      className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}\n    >\n      <div>{children}</div>\n      <div>{hasError && <span>{meta.error}</span>}</div>\n    </div>\n  );\n});\n\nexport const Textarea: FC<WrappedFieldProps> = React.memo((props) => {\n  const { children, input, meta, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n});\n\nexport const Input: FC<WrappedFieldProps> = React.memo((props) => {\n  const { children, input, meta, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n});\n","import React from \"react\";\nimport { Field, InjectedFormProps, reduxForm } from \"redux-form\";\nimport { Input } from \"../../common/FormControls/FormControls\";\nimport { requiredField } from \"../../../utils/validators/validators\";\nimport classes from \"../../common/FormControls/formControls.module.css\";\n\nexport type LoginFormDataType = {\n  email: string;\n  password: string;\n  rememberMe: boolean;\n  captcha?: string;\n};\n\ntype LoginFormPropsType = {\n  captchaURL: null | string;\n};\n\n// passing custom props to LoginForm\nconst LoginForm: React.FC<\n  LoginFormPropsType & InjectedFormProps<LoginFormDataType, LoginFormPropsType>\n> = React.memo(({ handleSubmit, error, captchaURL }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <Field\n          component={Input}\n          name={\"email\"}\n          placeholder={\"Email\"}\n          validate={[requiredField]}\n        />\n      </div>\n\n      <div>\n        <Field\n          component={Input}\n          name={\"password\"}\n          type={\"password\"}\n          placeholder={\"Password\"}\n          validate={[requiredField]}\n        />\n      </div>\n\n      <div>\n        <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"} />\n        Remember me\n      </div>\n\n      {captchaURL && <img src={captchaURL} alt={\"Captcha\"} />}\n      {captchaURL && (\n        <div>\n          <Field\n            component={Input}\n            name={\"captcha\"}\n            placeholder={\"Captcha\"}\n            validate={[requiredField]}\n          />\n        </div>\n      )}\n\n      {error && <div className={classes.formLevelError}>{error}</div>}\n\n      <div>\n        <button>Log in</button>\n      </div>\n    </form>\n  );\n});\n\n// passing custom props to LoginForm\nexport default reduxForm<LoginFormDataType, LoginFormPropsType>({\n  form: \"loginForm\",\n})(LoginForm);\n","import React from \"react\";\nimport LoginForm, { LoginFormDataType } from \"./LoginForm/LoginForm\";\nimport { LoginPropsType } from \"./LoginContainer\";\nimport { Redirect } from \"react-router-dom\";\n\nexport const Login = React.memo(\n  ({ login, isAuth, captchaURL }: LoginPropsType) => {\n    const onSubmit = (formData: LoginFormDataType) =>\n      login(\n        formData.email,\n        formData.password,\n        formData.rememberMe,\n        formData.captcha\n      );\n\n    if (isAuth) {\n      return <Redirect to={\"/profile\"} />;\n    } else\n      return (\n        <div>\n          <h1>Log in</h1>\n          <LoginForm onSubmit={onSubmit} captchaURL={captchaURL} />\n        </div>\n      );\n  }\n);\n","import { RootStateType } from \"../../redux/redux-store\";\nimport { Login } from \"./Login\";\nimport { connect } from \"react-redux\";\nimport { login } from \"../../redux/auth/authReducer\";\nimport { selectCaptchaURL, selectIsAuth } from \"../../redux/auth/authSelectors\";\n\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>;\ntype MapDispatchPropsType = {\n  login: (\n    email: string,\n    password: string,\n    rememberMe?: boolean,\n    captcha?: string\n  ) => void;\n};\nexport type LoginPropsType = MapStatePropsType & MapDispatchPropsType;\n\nconst mapStateToProps = (state: RootStateType) => ({\n  isAuth: selectIsAuth(state),\n  captchaURL: selectCaptchaURL(state),\n});\n\nconst LoginContainer = connect<\n  MapStatePropsType,\n  MapDispatchPropsType,\n  unknown,\n  RootStateType\n>(mapStateToProps, { login })(Login);\n\nexport default LoginContainer;\n"],"sourceRoot":""}